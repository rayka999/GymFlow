<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Exercícios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Exercícios</h2>
        <a href="/exercicio/add" class="btn btn-success">+ Criar Exercício</a>
    </div>

    <form method="GET" action="/exercicio" class="row g-3 mb-4">

        <div class="col-md-4">
            <label class="form-label">Categoria</label>
            <select name="categoria" class="form-select" onchange="this.form.submit()">
                <option value="0">Todas</option>
                <% categorias.forEach(c => { %>
                    <option value="<%= c.id_categoria %>" <%= idCategoria == c.id_categoria ? 'selected' : '' %>>
                        <%= c.nome %>
                    </option>
                <% }) %>
            </select>
        </div>

        <div class="col-md-4">
            <label class="form-label">Músculo</label>
            <select name="musculo" class="form-select">
                <option value="0">Todos</option>
                <% musculos.forEach(m => { %>
                    <option value="<%= m.id_musculo %>" <%= idMusculo == m.id_musculo ? 'selected' : '' %>>
                        <%= m.nome %>
                    </option>
                <% }) %>
            </select>
        </div>

        <div class="col-md-4 d-flex align-items-end">
            <button class="btn btn-primary w-100">Filtrar</button>
        </div>

    </form>

    <% if (exercicios.length === 0) { %>
        <p class="text-muted">Nenhum exercício encontrado.</p>
    <% } else { %>
        <div class="list-group">
            <% exercicios.forEach(e => { %>
                <a href="/exercicio/<%= e.id_exercicio %>" 
                class="list-group-item list-group-item-action">
                    <strong><%= e.nome %></strong><br>
                    <small class="text-muted"><%= e.categoria %> • <%= e.musculo %></small>
                </a>
            <% }) %>
        </div>
    <% } %>

</div>

</body>
</html>